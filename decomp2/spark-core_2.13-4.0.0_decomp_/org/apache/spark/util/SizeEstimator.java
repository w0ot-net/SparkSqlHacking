package org.apache.spark.util;

import java.util.IdentityHashMap;
import org.apache.spark.annotation.DeveloperApi;
import org.apache.spark.internal.Logging;
import scala.StringContext;
import scala.collection.immutable.List;
import scala.collection.mutable.ArrayBuffer;
import scala.reflect.ScalaSignature;

@DeveloperApi
@ScalaSignature(
   bytes = "\u0006\u0005\t5v!\u0002$H\u0011\u0003\u0001f!\u0002*H\u0011\u0003\u0019\u0006\"\u00021\u0002\t\u0003\t\u0007\"\u00022\u0002\t\u0003\u0019\u0007bB5\u0002\u0005\u0004%IA\u001b\u0005\u0007]\u0006\u0001\u000b\u0011B6\t\u000f=\f!\u0019!C\u0005U\"1\u0001/\u0001Q\u0001\n-Dq!]\u0001C\u0002\u0013%!\u000e\u0003\u0004s\u0003\u0001\u0006Ia\u001b\u0005\bg\u0006\u0011\r\u0011\"\u0003k\u0011\u0019!\u0018\u0001)A\u0005W\"9Q/\u0001b\u0001\n\u0013Q\u0007B\u0002<\u0002A\u0003%1\u000eC\u0004x\u0003\t\u0007I\u0011\u00026\t\ra\f\u0001\u0015!\u0003l\u0011\u001dI\u0018A1A\u0005\n)DaA_\u0001!\u0002\u0013Y\u0007bB>\u0002\u0005\u0004%IA\u001b\u0005\u0007y\u0006\u0001\u000b\u0011B6\t\u000fu\f!\u0019!C\u0005}\"9\u0011qB\u0001!\u0002\u0013y\b\u0002CA\t\u0003\t\u0007I\u0011\u00026\t\u000f\u0005M\u0011\u0001)A\u0005W\"I\u0011QC\u0001C\u0002\u0013%\u0011q\u0003\u0005\t\u0003\u0003\n\u0001\u0015!\u0003\u0002\u001a!I\u0011QR\u0001A\u0002\u0013%\u0011q\u0012\u0005\n\u0003/\u000b\u0001\u0019!C\u0005\u00033C\u0001\"!*\u0002A\u0003&\u0011\u0011\u0013\u0005\n\u0003O\u000b\u0001\u0019!C\u0005\u0003\u001fC\u0011\"!+\u0002\u0001\u0004%I!a+\t\u0011\u0005=\u0016\u0001)Q\u0005\u0003#C\u0001\"!-\u0002\u0001\u0004%IA\u001b\u0005\n\u0003g\u000b\u0001\u0019!C\u0005\u0003kCq!!/\u0002A\u0003&1\u000e\u0003\u0005\u0002<\u0006\u0001\r\u0011\"\u0003k\u0011%\ti,\u0001a\u0001\n\u0013\ty\fC\u0004\u0002D\u0006\u0001\u000b\u0015B6\t\u000f\u0005\u0015\u0017\u0001\"\u0003\u0002H\"9\u0011\u0011Z\u0001\u0005\n\u0005=eABAf\u0003\u0011\ti\r\u0003\u0006\u0002P\"\u0012)\u0019!C\u0001\u0003#D!\"a7)\u0005\u0003\u0005\u000b\u0011BAj\u0011\u0019\u0001\u0007\u0006\"\u0001\u0002^\"I\u00111\u001d\u0015C\u0002\u0013\u0005\u0011Q\u001d\u0005\t\u0003gD\u0003\u0015!\u0003\u0002h\"I\u0011Q\u001f\u0015A\u0002\u0013\u0005\u00111\f\u0005\n\u0003oD\u0003\u0019!C\u0001\u0003sDq!!@)A\u0003&A\rC\u0004\u0002\u0000\"\"\tA!\u0001\t\u000f\t\u0015\u0001\u0006\"\u0001\u0003\b!9!\u0011\u0002\u0015\u0005\u0002\t-aABA+\u0003\u0011\t9\u0006\u0003\u0006\u0002ZQ\u0012)\u0019!C\u0001\u00037B\u0011\"!\u00185\u0005\u0003\u0005\u000b\u0011\u00023\t\u0015\u0005}CG!b\u0001\n\u0003\t\t\u0007\u0003\u0006\u0002\u0006R\u0012\t\u0011)A\u0005\u0003GBa\u0001\u0019\u001b\u0005\u0002\u0005\u001d\u0005B\u00022\u0002\t\u0013\u0011i\u0001C\u0004\u0003\u0014\u0005!IA!\u0006\t\u0011\tu\u0011A1A\u0005\n)DqAa\b\u0002A\u0003%1\u000e\u0003\u0005\u0003\"\u0005\u0011\r\u0011\"\u0003k\u0011\u001d\u0011\u0019#\u0001Q\u0001\n-DqA!\n\u0002\t\u0013\u00119\u0003C\u0004\u0003J\u0005!IAa\u0013\t\u000f\t5\u0014\u0001\"\u0003\u0003p!9!qP\u0001\u0005\n\t\u0005\u0005b\u0002BH\u0003\u0011%!\u0011\u0013\u0005\b\u0005+\u000bA\u0011\u0002BL\u00035\u0019\u0016N_3FgRLW.\u0019;pe*\u0011\u0001*S\u0001\u0005kRLGN\u0003\u0002K\u0017\u0006)1\u000f]1sW*\u0011A*T\u0001\u0007CB\f7\r[3\u000b\u00039\u000b1a\u001c:h\u0007\u0001\u0001\"!U\u0001\u000e\u0003\u001d\u0013QbU5{K\u0016\u001bH/[7bi>\u00148cA\u0001U5B\u0011Q\u000bW\u0007\u0002-*\tq+A\u0003tG\u0006d\u0017-\u0003\u0002Z-\n1\u0011I\\=SK\u001a\u0004\"a\u00170\u000e\u0003qS!!X%\u0002\u0011%tG/\u001a:oC2L!a\u0018/\u0003\u000f1{wmZ5oO\u00061A(\u001b8jiz\"\u0012\u0001U\u0001\tKN$\u0018.\\1uKR\u0011Am\u001a\t\u0003+\u0016L!A\u001a,\u0003\t1{gn\u001a\u0005\u0006Q\u000e\u0001\r\u0001V\u0001\u0004_\nT\u0017!\u0003\"Z)\u0016{6+\u0013.F+\u0005Y\u0007CA+m\u0013\tigKA\u0002J]R\f!BQ-U\u000b~\u001b\u0016JW#!\u00031\u0011uj\u0014'F\u0003:{6+\u0013.F\u00035\u0011uj\u0014'F\u0003:{6+\u0013.FA\u0005I1\tS!S?NK%,R\u0001\u000b\u0007\"\u000b%kX*J5\u0016\u0003\u0013AC*I\u001fJ#vlU%[\u000b\u0006Y1\u000bS(S)~\u001b\u0016JW#!\u0003!Ie\nV0T\u0013j+\u0015!C%O)~\u001b\u0016JW#!\u0003%auJT$`'&SV)\u0001\u0006M\u001f:;ulU%[\u000b\u0002\n!B\u0012'P\u0003R{6+\u0013.F\u0003-1EjT!U?NK%,\u0012\u0011\u0002\u0017\u0011{UK\u0011'F?NK%,R\u0001\r\t>+&\tT#`'&SV\tI\u0001\u000bM&,G\u000eZ*ju\u0016\u001cX#A@\u0011\u000b\u0005\u0005\u00111B6\u000e\u0005\u0005\r!\u0002BA\u0003\u0003\u000f\t\u0011\"[7nkR\f'\r\\3\u000b\u0007\u0005%a+\u0001\u0006d_2dWm\u0019;j_:LA!!\u0004\u0002\u0004\t!A*[:u\u0003-1\u0017.\u001a7e'&TXm\u001d\u0011\u0002\u0015\u0005c\u0015j\u0012(`'&SV)A\u0006B\u0019&;ejX*J5\u0016\u0003\u0013AC2mCN\u001c\u0018J\u001c4pgV\u0011\u0011\u0011\u0004\t\t\u00037\t9#a\u000b\u0002R5\u0011\u0011Q\u0004\u0006\u0005\u0003?\t\t#\u0001\u0006d_:\u001cWO\u001d:f]RT1\u0001SA\u0012\u0015\t\t)#\u0001\u0003kCZ\f\u0017\u0002BA\u0015\u0003;\u0011QbQ8oGV\u0014(/\u001a8u\u001b\u0006\u0004\b\u0007BA\u0017\u0003{\u0001b!a\f\u00026\u0005eRBAA\u0019\u0015\u0011\t\u0019$a\t\u0002\t1\fgnZ\u0005\u0005\u0003o\t\tDA\u0003DY\u0006\u001c8\u000f\u0005\u0003\u0002<\u0005uB\u0002\u0001\u0003\f\u0003\u007fI\u0012\u0011!A\u0001\u0006\u0003\t\u0019EA\u0002`IE\n1b\u00197bgNLeNZ8tAE!\u0011QIA&!\r)\u0016qI\u0005\u0004\u0003\u00132&a\u0002(pi\"Lgn\u001a\t\u0004+\u00065\u0013bAA(-\n\u0019\u0011I\\=\u0011\u0007\u0005MC'D\u0001\u0002\u0005%\u0019E.Y:t\u0013:4wn\u0005\u00025)\u0006I1\u000f[3mYNK'0Z\u000b\u0002I\u0006Q1\u000f[3mYNK'0\u001a\u0011\u0002\u001bA|\u0017N\u001c;fe\u001aKW\r\u001c3t+\t\t\u0019\u0007\u0005\u0004\u0002f\u0005U\u0014\u0011\u0010\b\u0005\u0003O\n\tH\u0004\u0003\u0002j\u0005=TBAA6\u0015\r\tigT\u0001\u0007yI|w\u000e\u001e \n\u0003]K1!a\u001dW\u0003\u001d\u0001\u0018mY6bO\u0016LA!!\u0004\u0002x)\u0019\u00111\u000f,\u0011\t\u0005m\u0014\u0011Q\u0007\u0003\u0003{RA!a \u00022\u00059!/\u001a4mK\u000e$\u0018\u0002BAB\u0003{\u0012QAR5fY\u0012\fa\u0002]8j]R,'OR5fY\u0012\u001c\b\u0005\u0006\u0004\u0002R\u0005%\u00151\u0012\u0005\u0007\u00033J\u0004\u0019\u00013\t\u000f\u0005}\u0013\b1\u0001\u0002d\u00059\u0011n\u001d\u001c5E&$XCAAI!\r)\u00161S\u0005\u0004\u0003+3&a\u0002\"p_2,\u0017M\\\u0001\fSN4DGY5u?\u0012*\u0017\u000f\u0006\u0003\u0002\u001c\u0006\u0005\u0006cA+\u0002\u001e&\u0019\u0011q\u0014,\u0003\tUs\u0017\u000e\u001e\u0005\n\u0003G[\u0012\u0011!a\u0001\u0003#\u000b1\u0001\u001f\u00132\u0003!I7O\u000e\u001bcSR\u0004\u0013\u0001E5t\u0007>l\u0007O]3tg\u0016$wj\u001c9t\u0003QI7oQ8naJ,7o]3e\u001f>\u00048o\u0018\u0013fcR!\u00111TAW\u0011%\t\u0019KHA\u0001\u0002\u0004\t\t*A\tjg\u000e{W\u000e\u001d:fgN,GmT8qg\u0002\n1\u0002]8j]R,'oU5{K\u0006y\u0001o\\5oi\u0016\u00148+\u001b>f?\u0012*\u0017\u000f\u0006\u0003\u0002\u001c\u0006]\u0006\u0002CARC\u0005\u0005\t\u0019A6\u0002\u0019A|\u0017N\u001c;feNK'0\u001a\u0011\u0002\u0015=\u0014'.Z2u'&TX-\u0001\bpE*,7\r^*ju\u0016|F%Z9\u0015\t\u0005m\u0015\u0011\u0019\u0005\t\u0003G#\u0013\u0011!a\u0001W\u0006YqN\u00196fGR\u001c\u0016N_3!\u0003)Ig.\u001b;jC2L'0\u001a\u000b\u0003\u00037\u000b1cZ3u\u0013N\u001cu.\u001c9sKN\u001cX\rZ(paN\u00141bU3be\u000eD7\u000b^1uKN\u0011\u0001\u0006V\u0001\bm&\u001c\u0018\u000e^3e+\t\t\u0019\u000e\u0005\u0004\u0002V\u0006]G\u000bV\u0007\u0003\u0003CIA!!7\u0002\"\ty\u0011\nZ3oi&$\u0018\u0010S1tQ6\u000b\u0007/\u0001\u0005wSNLG/\u001a3!)\u0011\ty.!9\u0011\u0007\u0005M\u0003\u0006C\u0004\u0002P.\u0002\r!a5\u0002\u000bM$\u0018mY6\u0016\u0005\u0005\u001d\b#BAu\u0003_$VBAAv\u0015\u0011\ti/a\u0002\u0002\u000f5,H/\u00192mK&!\u0011\u0011_Av\u0005-\t%O]1z\u0005V4g-\u001a:\u0002\rM$\u0018mY6!\u0003\u0011\u0019\u0018N_3\u0002\u0011ML'0Z0%KF$B!a'\u0002|\"A\u00111U\u0018\u0002\u0002\u0003\u0007A-A\u0003tSj,\u0007%A\u0004f]F,X-^3\u0015\t\u0005m%1\u0001\u0005\u0006QF\u0002\r\u0001V\u0001\u000bSN4\u0015N\\5tQ\u0016$GCAAI\u0003\u001d!W-];fk\u0016$\u0012\u0001\u0016\u000b\u0006I\n=!\u0011\u0003\u0005\u0006Qj\u0002\r\u0001\u0016\u0005\b\u0003\u001fT\u0004\u0019AAj\u0003E1\u0018n]5u'&tw\r\\3PE*,7\r\u001e\u000b\u0007\u00037\u00139B!\u0007\t\u000b!\\\u0004\u0019\u0001+\t\u000f\tm1\b1\u0001\u0002`\u0006)1\u000f^1uK\u00069\u0012I\u0015*B3~\u001b\u0016JW#`\r>\u0013vlU!N!2KejR\u0001\u0019\u0003J\u0013\u0016)W0T\u0013j+uLR(S?N\u000bU\n\u0015'J\u001d\u001e\u0003\u0013!E!S%\u0006KvlU!N!2+ulU%[\u000b\u0006\u0011\u0012I\u0015*B3~\u001b\u0016)\u0014)M\u000b~\u001b\u0016JW#!\u0003)1\u0018n]5u\u0003J\u0014\u0018-\u001f\u000b\t\u00037\u0013IC!\f\u0003H!1!1\u0006!A\u0002Q\u000bQ!\u0019:sCfDqAa\fA\u0001\u0004\u0011\t$\u0001\u0006beJ\f\u0017p\u00117bgN\u0004DAa\r\u0003DA1!Q\u0007B\u001f\u0005\u0003rAAa\u000e\u0003:A\u0019\u0011\u0011\u000e,\n\u0007\tmb+\u0001\u0004Qe\u0016$WMZ\u0005\u0005\u0003o\u0011yDC\u0002\u0003<Y\u0003B!a\u000f\u0003D\u0011a!Q\tB\u0017\u0003\u0003\u0005\tQ!\u0001\u0002D\t\u0019q\fJ\u001a\t\u000f\tm\u0001\t1\u0001\u0002`\u0006Y1/Y7qY\u0016\f%O]1z)-!'Q\nB(\u0005#\u0012YF!\u001b\t\r\t-\u0012\t1\u0001U\u0011\u001d\u0011Y\"\u0011a\u0001\u0003?DqAa\u0015B\u0001\u0004\u0011)&\u0001\u0003sC:$\u0007\u0003BAk\u0005/JAA!\u0017\u0002\"\t1!+\u00198e_6DqA!\u0018B\u0001\u0004\u0011y&A\u0003ee\u0006<h\u000eE\u0003\u0003b\t\u00154.\u0004\u0002\u0003d)\u0019\u0011\u0011B$\n\t\t\u001d$1\r\u0002\f\u001fB,g\u000eS1tQN+G\u000f\u0003\u0004\u0003l\u0005\u0003\ra[\u0001\u0007Y\u0016tw\r\u001e5\u0002\u001bA\u0014\u0018.\\5uSZ,7+\u001b>f)\rY'\u0011\u000f\u0005\b\u0005g\u0012\u0005\u0019\u0001B;\u0003\r\u0019Gn\u001d\u0019\u0005\u0005o\u0012Y\b\u0005\u0004\u00036\tu\"\u0011\u0010\t\u0005\u0003w\u0011Y\b\u0002\u0007\u0003~\tE\u0014\u0011!A\u0001\u0006\u0003\t\u0019EA\u0002`IQ\nAbZ3u\u00072\f7o]%oM>$B!!\u0015\u0003\u0004\"9!1O\"A\u0002\t\u0015\u0005\u0007\u0002BD\u0005\u0017\u0003bA!\u000e\u0003>\t%\u0005\u0003BA\u001e\u0005\u0017#AB!$\u0003\u0004\u0006\u0005\t\u0011!B\u0001\u0003\u0007\u00121a\u0018\u00136\u0003%\tG.[4o'&TX\rF\u0002e\u0005'Ca!!>E\u0001\u0004!\u0017aC1mS\u001et7+\u001b>f+B$R\u0001\u001aBM\u00057Ca!!>F\u0001\u0004!\u0007B\u0002BH\u000b\u0002\u00071\u000eK\u0002\u0002\u0005?\u0003BA!)\u0003(6\u0011!1\u0015\u0006\u0004\u0005KK\u0015AC1o]>$\u0018\r^5p]&!!\u0011\u0016BR\u00051!UM^3m_B,'/\u00119jQ\r\u0001!q\u0014"
)
public final class SizeEstimator {
   public static long estimate(final Object obj) {
      return SizeEstimator$.MODULE$.estimate(obj);
   }

   public static Logging.LogStringContext LogStringContext(final StringContext sc) {
      return SizeEstimator$.MODULE$.LogStringContext(sc);
   }

   private static class SearchState {
      private final IdentityHashMap visited;
      private final ArrayBuffer stack;
      private long size;

      public IdentityHashMap visited() {
         return this.visited;
      }

      public ArrayBuffer stack() {
         return this.stack;
      }

      public long size() {
         return this.size;
      }

      public void size_$eq(final long x$1) {
         this.size = x$1;
      }

      public void enqueue(final Object obj) {
         if (obj != null && !this.visited().containsKey(obj)) {
            this.visited().put(obj, (Object)null);
            this.stack().$plus$eq(obj);
         }
      }

      public boolean isFinished() {
         return this.stack().isEmpty();
      }

      public Object dequeue() {
         Object elem = this.stack().last();
         this.stack().dropRightInPlace(1);
         return elem;
      }

      public SearchState(final IdentityHashMap visited) {
         this.visited = visited;
         this.stack = new ArrayBuffer();
         this.size = 0L;
      }
   }

   private static class ClassInfo {
      private final long shellSize;
      private final List pointerFields;

      public long shellSize() {
         return this.shellSize;
      }

      public List pointerFields() {
         return this.pointerFields;
      }

      public ClassInfo(final long shellSize, final List pointerFields) {
         this.shellSize = shellSize;
         this.pointerFields = pointerFields;
      }
   }
}
